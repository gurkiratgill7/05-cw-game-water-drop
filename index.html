<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>The Last Drop</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- The main heads-up display, always visible -->
        <div id="hud">
            <div class="hud-item">Day: <span id="day-stat">0</span></div>
            <div class="hud-item">Health: <span id="health-stat">100</span>%</div>
            <div class="hud-item">Dirty H₂O: <span id="dirty-water-stat">0.0</span>L</div>
            <div class="hud-item">Clean H₂O: <span id="clean-water-stat">0.0</span>L</div>
        </div>

        <!-- 1. Start Screen -->
        <div id="start-screen" class="screen active">
            <img src="img/cw_logo.png" alt="Charity Water Logo" class="logo">
            <h1>The Last Drop</h1>
            <p>For millions, the search for clean water is a daily struggle. Can you survive?</p>
            <button id="start-game-btn" class="btn">Start Day 1</button>
        </div>

        <!-- 2. Journey Screen (Runner Game) -->
        <div id="journey-screen" class="screen">
            <div id="player"></div>
            <div id="ground"></div>
        </div>

        <!-- 3. Allocation Screen (Decision Making) -->
        <div id="allocation-screen" class="screen">
            <div class="house-background"></div>
            <div class="allocation-ui">
                <h2>Back at Home</h2>
                <p>You returned with <span id="water-budget">0.0</span>L of dirty water.</p>
                <!-- UPDATED 3x2 Grid Layout -->
                <div class="choices">
                    <button class="btn choice-btn" id="filter-btn" data-cost="2.0">Filter Water (Cost: 2.0L Dirty)</button>
                    <button class="btn choice-btn" id="drink-clean-btn" data-cost="1.0">Drink Clean Water (Cost: 1.0L Clean)</button>
                    <button class="btn choice-btn" id="drink-dirty-btn" data-cost="1.0">Drink Dirty Water (Cost: 1.0L Dirty)</button>
                    <button class="btn choice-btn" id="cook-btn" data-cost="1.5">Cook Food (Cost: 1.5L Dirty)</button>
                    <button class="btn choice-btn" id="crops-btn" data-cost="1.0">Water Crops (Cost: 1.0L Dirty)</button>
                    <button class="btn choice-btn" id="hygiene-btn" data-cost="1.0">Hygiene (Cost: 1.0L Dirty)</button>
                </div>
                <p class="status-info">Crop Health: <span id="crop-stat">50</span>%</p>
                <button id="finish-day-btn" class="btn">Finish Day</button>
            </div>
        </div>

        <!-- 4. Day Summary Screen (Modal) -->
        <div id="summary-screen" class="screen modal">
            <div class="modal-content">
                <h2 id="summary-title">End of Day <span id="summary-day"></span></h2>
                <p id="summary-text"></p>
                <p class="fact"><strong>Did you know?</strong> Contaminated water is a leading source of diseases like cholera and dysentery.</p>
                <button id="next-day-btn" class="btn">Start Next Day</button>
            </div>
        </div>
        
        <!-- 5. Game Over Screen -->
        <div id="game-over-screen" class="screen modal">
            <div class="modal-content">
                <h2>Game Over</h2>
                <p id="game-over-reason"></p>
                <p>You survived for <span id="final-days">0</span> days.</p>
                <p class="fact">This is a daily reality for millions. You can help make a difference.</p>
                <a href="https://www.charitywater.org/" target="_blank" class="btn">Learn More at charity: water</a>
                <button id="play-again-btn" class="btn">Play Again</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>